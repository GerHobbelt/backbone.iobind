/*!
 * backbone.iobind
 * Copyright(c) 2011 Jake Luer <@jakeluer>
 * MIT Licensed
 * https://logicalparadox.github.com/backbone.iobind
 */Backbone.Model.prototype.ioBindVersion="0.2.0",Backbone.Collection.prototype.ioBindVersion="0.2.0",Backbone.sync=function(method,model,options){var getUrl=function(object){return!object||!object.url?null:_.isFunction(object.url)?object.url():object.url},cmd=getUrl(model).split("/"),namespace=cmd[0],params=_.extend({req:namespace+":"+method},options);params.data=model.toJSON()||{};var io=window.socket||Backbone.socket;io.emit(namespace+":"+method,params.data,function(err,data){err?options.error(err):options.success(data)})}